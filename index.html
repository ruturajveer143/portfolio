<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title id="site-title"></title>
    <meta id="meta-description" name="description">
    <meta id="meta-keywords" name="keywords">
    <meta name="robots" content="index, follow">

    <!-- Favicons -->
    <link href="assets/img/icons8-r-50.png" rel="icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Raleway|Poppins" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Your original HTML structure remains here. All dynamic data will be inserted using JS below -->

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
              apiKey: "AIzaSyDVXI5VvxM3bhRV9ChMBANtH0EtjGkBZMI",
      authDomain: "ruturaj-veer.firebaseapp.com",
      databaseURL: "https://ruturaj-veer-default-rtdb.firebaseio.com",
      projectId: "ruturaj-veer",
      storageBucket: "ruturaj-veer.appspot.com",
      messagingSenderId: "168086635691",
      appId: "1:168086635691:web:eedec947d385a3b53ae3ee"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        db.ref("siteData").once("value").then(snapshot => {
            const data = snapshot.val();

            // Set meta data
            document.title = data.meta.title;
            document.getElementById("site-title").textContent = data.meta.title;
            document.getElementById("meta-description").content = data.meta.description;
            document.getElementById("meta-keywords").content = data.meta.keywords;

            // Profile
            document.querySelector(".profile h1 a").textContent = data.profile.name;
            document.querySelector(".profile img").src = "assets/img/Snapchat-1639444201-fotor-2023090212464.png";

            const socialLinks = data.links.social;
            document.querySelector(".twitter").href = socialLinks.twitter;
            document.querySelector(".facebook").href = socialLinks.facebook;
            document.querySelector(".instagram").href = socialLinks.instagram;
            document.querySelector(".google-plus").href = socialLinks.github;
            document.querySelector(".linkedin").href = socialLinks.linkedin;

            // About
            document.getElementById("location").textContent = data.profile.location;
            document.getElementById("age").textContent = new Date().getFullYear() - parseInt(data.profile.dob.split("-")[0]);

            // Skills
            const skillHTML = data.skills.map(skill => `
                <div class="progress">
                    <span class="skill">${skill.name} <i class="val">${skill.level}%</i></span>
                    <div class="progress-bar-wrap">
                        <div class="progress-bar" role="progressbar" style="width: ${skill.level}%"></div>
                    </div>
                </div>
            `).join('');
            document.querySelector(".skills-content").innerHTML = `<div class="col-lg-12">${skillHTML}</div>`;

            // Education
            const educationHTML = data.education.map(edu => `
                <div class="resume-item">
                    <h4>${edu.degree}</h4>
                    <h5>${edu.duration}</h5>
                    <p><em>${edu.institute}</em></p>
                    <p><em>Marks ${edu.marks}</em></p>
                </div>
                <br>
            `).join('');
            document.querySelector("#resume .col-lg-6").innerHTML += educationHTML;

            // Experience
            document.querySelector("#resume .col-lg-6:nth-child(2) .resume-item").innerHTML = `
                <h4>${data.experience.position}</h4>
                <h5>${data.experience.duration}</h5>
                <p><em>${data.experience.location}</em></p>
            `;

            // Certificates
            const certHTML = data.certificates.map(cert => `
                <div class="col-lg-4 col-md-6 portfolio-item">
                    <div class="portfolio-wrap">
                        <img src="${cert.img}" class="img-fluid" alt="${cert.title}">
                        <div class="portfolio-links">
                            <a href="${cert.img}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="${cert.title}"><i class="bx bx-plus"></i></a>
                            <a href="${data.links.portfolio}" title="More Details"><i class="bx bx-link"></i></a>
                        </div>
                    </div>
                </div>
            `).join('');
            document.querySelector(".portfolio-container").innerHTML = certHTML;

            // Projects
            const projectHTML = data.projects.map(proj => `
                <div class="col-lg-6 col-md-6 icon-box" data-aos="fade-up">
                    <div class="icon"><i class="bi bi-briefcase"></i></div>
                    <h4 class="title"><a href="#">${proj.title}</a></h4>
                    <p class="description">${proj.description.join('<br>')}</p>
                </div>
            `).join('');
            document.querySelector("#projects .row").innerHTML = projectHTML;
        });
    </script>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/typed.js/typed.min.js"></script>
    <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/js/main.js"></script>
</body>

</html>
